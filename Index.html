<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Parking Application</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f0f0;
            margin: 20px;
        }
        h1, h2 {
            text-align: center;
        }
        .zone-info {
            margin-bottom: 20px;
        }
        textarea {
            width: 100%;
            height: 100px;
            margin-top: 10px;
        }
        button {
            display: block;
            margin: 10px auto;
            padding: 10px 20px;
            background-color: #007BFF;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        button:hover {
            background-color: #0056b3;
        }
        .code-block {
            background-color: #f1f1f1;
            padding: 10px;
            border-radius: 5px;
            font-family: monospace;
            margin-top: 10px;
        }
        #resetBtn {
            background-color: #28a745;
        }
        #resetBtn:hover {
            background-color: #218838;
        }
        .hidden {
            display: none;
        }
        .auth-section {
            text-align: center;
            margin: 50px;
        }
    </style>
</head>
<body>
    <!-- Authenticatie Sectie -->
    <div id="authSection" class="auth-section">
        <h1>Welkom! Voer de Beveiligde Sleutel in</h1>
        <input type="password" id="authKey" placeholder="Voer sleutel in">
        <button onclick="validateKey()">Toegang Geven</button>
        <p id="authMessage" style="color:red;"></p>
    </div>

    <!-- Parking Application Zone -->
    <div id="appSection" class="hidden">
        <div class="zone-info">
            <h2>Choose Input Type</h2>
            <button onclick="selectInput('ticket')">Park Ticket</button>
            <button onclick="selectInput('subscription')">Subscription</button>
        </div>

        <!-- Parking Ticket Zone -->
        <div class="zone-info hidden" id="ticketZone">
            <h2>Enter Park Ticket Text</h2>
            <textarea id="ticketInput" placeholder="Enter your park ticket text..."></textarea>
            <button onclick="encodeText('ticket')">Generate Code</button>
            <div id="ticketCodeBlock" class="code-block"></div>
        </div>

        <!-- Subscription Zone -->
        <div class="zone-info hidden" id="subscriptionZone">
            <h2>Enter Subscription Code</h2>
            <textarea id="subscriptionInput" placeholder="Enter your subscription code..."></textarea>
            <button onclick="decodeText()">Decode Text</button>
            <div id="decodedTextBlock" class="code-block"></div>
        </div>

        <!-- Reset Button -->
        <div class="zone-info">
            <button id="resetBtn" onclick="resetApp()">Reset</button>
        </div>
    </div>

    <script>
        // Beveiligde sleutel
        const correctKey = "tovenaar";  // De sleutel die vereist is om toegang te krijgen tot de applicatie

        // Coderingstabel
        const codeTable = {
            A: "(1+2)^2", B: "3!+4", C: "sqrt(16)+2", D: "5*2-1", E: "(7^2)/7",
            F: "8+4-3", G: "(3*3)+1", H: "10-2", I: "sqrt(81)", J: "2^3-1",
            K: "log10(100)", L: "5!/(3!+7)", M: "sqrt(144)-2", N: "(4*4)-3",
            O: "pi()", P: "2^5-12", Q: "(10+2)/2", R: "sqrt(225)", S: "(15-3)^2/9",
            T: "tan(45)", U: "cos(0)*10", V: "20/4+3", W: "9+6/2", X: "(sqrt(36)*3)-10",
            Y: "(2^3)*2-4", Z: "(50-2^4)/3", " ": "0", ".": "1+1", ",": "5-2",
            "?": "sqrt(64)", "!": "(3^2)+1"
        };

        // Validatie van de sleutel
        function validateKey() {
            const enteredKey = document.getElementById("authKey").value;
            const authMessage = document.getElementById("authMessage");

            if (enteredKey === correctKey) {
                // Toegang verlenen na validatie
                document.getElementById("authSection").classList.add("hidden");
                document.getElementById("appSection").classList.remove("hidden");
            } else {
                authMessage.textContent = "Foutieve sleutel. Probeer het opnieuw.";
            }
        }

        // Functie voor het kiezen van invoertype
        function selectInput(type) {
            document.getElementById('ticketZone').classList.add('hidden');
            document.getElementById('subscriptionZone').classList.add('hidden');

            if (type === 'ticket') {
                document.getElementById('ticketZone').classList.remove('hidden');
            } else if (type === 'subscription') {
                document.getElementById('subscriptionZone').classList.remove('hidden');
            }
        }

        // Functie om tekst te coderen voor Park Ticket
        function encodeText(type) {
            const input = document.getElementById(type === 'ticket' ? 'ticketInput' : 'subscriptionInput').value.toUpperCase();
            if (!input.trim()) {
                alert("Voer een geldige tekst in.");
                return;
            }

            let encodedText = "";
            let decipherCode = "";

            for (let char of input) {
                encodedText += codeTable[char] || char;
                encodedText += " ";
                decipherCode += `${char}: ${codeTable[char] || "N/A"}\n`;
            }

            if (type === 'ticket') {
                document.getElementById("ticketCodeBlock").textContent = encodedText;
            }

            navigator.clipboard.writeText(encodedText.trim()).then(() => {
                alert("De tekst is gecodeerd en gekopieerd naar het klembord.");
            }).catch(err => {
                alert("Er is een fout opgetreden bij het kopiÃ«ren naar het klembord.");
            });
        }

        // Functie om de gecodeerde tekst te decoderen voor Subscription
        function decodeText() {
            const input = document.getElementById('subscriptionInput').value.toUpperCase();
            if (!input.trim()) {
                alert("Voer een geldige gecodeerde tekst in.");
                return;
            }

            let decodedText = "";
            const decodedParts = input.split(' ');

            for (let part of decodedParts) {
                let decodedChar = Object.keys(codeTable).find(key => codeTable[key] === part);
                decodedText += decodedChar || part;
            }

            document.getElementById("decodedTextBlock").textContent = decodedText;
        }

        // Functie voor het resetten van de applicatie
        function resetApp() {
            document.getElementById('ticketInput').value = '';
            document.getElementById('subscriptionInput').value = '';
            document.getElementById('ticketCodeBlock').textContent = '';
            document.getElementById('decodedTextBlock').textContent = '';
            document.getElementById('ticketZone').classList.add('hidden');
            document.getElementById('subscriptionZone').classList.add('hidden');
            document.getElementById('authSection').classList.remove('hidden');
            document.getElementById('appSection').classList.add('hidden');
        }
    </script>
</body>
  </html>
